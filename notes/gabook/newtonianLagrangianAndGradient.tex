\documentclass{article}      

\input{../peeters_macros.tex}
\newcommand{\grad}[0]{\nabla}
\newcommand{\PD}[2]{ \frac{\partial{#1}}{\partial {#2}} }

\title{ Derivation of Newton's Law from Lagrangian and general gradient.} 
\author{Peeter Joot}         
%\date{}        % Deleting this command produces today's date.

\begin{document}             

\maketitle{}

\section{}

In the classical limit the Lagrangian action for a point particle in a general 
position dependent field is:

\begin{equation}
S = \inv{2} m\Bv^2 - \varphi
\end{equation}

Given the Lagrange equations that minimize the action, it is fairly simple
to derive the Newtonian force law.

\begin{align*}
0
&= \PD{S}{x^i} - \frac{d}{dt}\PD{S}{\dot{x}^i} \\
&= -\PD{\varphi}{x^i} - \frac{d}{dt}\left(m \dot{x}^i\right)
\end{align*}

Multiplication of this result with the unit vector $\Be_i$, and summing over 
all unit vectors we have:

\begin{equation*}
\sum \Be_i \frac{d}{dt}\left(m \dot{x}^i\right) = - \sum \Be_i \PD{\varphi}{x^i} 
\end{equation*}

Or, using the gradient operator, and writing $\Bv = \sum \Be_i \dot{x}^i$, we have:

\begin{equation}
\frac{d m \Bv}{dt} = - \grad \varphi
\end{equation}

\subsection{ The mistake hiding above. }

Now, despite the use of upper and lower pairs of indexes for the basis vectors and coordinates, this 
result is not valid for a general set of basis vectors.  This initially confused the author, since the RHS
sum $\Bv = \sum \Be_i v^i$ is valid for any set of basis vectors independent of the orthonormality of that 
set of basis vectors.  This is assuming that these coordinate pairs follow the usual reciprocal relationships:

\begin{equation*}
\Bx = \sum \Be_i x^i
\end{equation*}
\begin{equation*}
x^i = \Bx \cdot \Be^i
\end{equation*}
\begin{equation*}
\Be^i \cdot \Be_j = {\delta^i}_j
\end{equation*}

However, the LHS that implicitly defines the gradient as:
\begin{equation*}
\grad = \sum \Be_i \PD{}{x^i} 
\end{equation*}

is a result that is only valid when the set of basis vectors $\Be_i$ is orthonormal.  The general result is
expected instead to be:

\begin{equation*}
\grad = \sum \Be^i \PD{}{x^i} 
\end{equation*}

This is how the gradient is defined (without motivation) in Doran/Lasenby.  One can however demonstrate that this definition, and not $\grad = \sum \Be_i \PD{}{x^i}$ is required, by doing a computation of something like $\grad \norm{\Bx}^\alpha$ with $\Bx = \sum x^i \Be_i$ for a general basis $\Be_i$ to demonstrate this.

So where did things go wrong?  It was in one of the ``obvious'' skipped steps: $\Bv = \sum {\dot{x^i}}^2$.  It is in that
spot where there is a hidden orthonormal frame vector requirement since a general basis will have mixed product terms too
(ie: non-diagonal metric tensor).

Expressed in full for general frame vectors the action to minimize is the following:

\begin{equation}
S = \inv{2} m \sum \dot{x}^i \dot{x}^j \Be_i \cdot \Be_j -\varphi
\end{equation}

Or, expressed using a metric tensor $g_{ij} = \Be_i \cdot \Be_j$, this is:

\begin{equation}
S = \inv{2} m \sum \dot{x}^i \dot{x}^j g_{ij} -\varphi
\end{equation}

Now we are in shape to calculate the equations of motion from the Lagrangian action minimization equations.

\subsection{ Equations of motion for vectors in a general frame. }

However, this 
This is out familiar Newtonian force law for a point particle in a conservative potential field:

\begin{equation}\label{eqn:newtonionmotion}
F = \frac{d (m \Bv)}{dt} = -\grad \varphi.
\end{equation}

Observe that the gradient and velocity vectors as expressed here have no requirement that the basis vectors to be an
othonormal set.  The only requirement is that the coordinates $x^i$ and the basis vectors $\Be_i$ be reciprocal pairs, defined by the following relationships:


The requirement for reciprocal pairs of coordinates and basis frame vectors is due to the 
summation $\Bv = \sum \Be_i \dot{x}^i$.  The Lagrange equations that minimize the action still generate equations of
motion that hold when the coordinate and basis vectors cannot be summed in this fashion.
In such a case, however, the ability to merge the generalized coordinate equations of motion into a single
vector relationship will not be possible.

Having expressed the velocity vector $\Bv$ in terms of a
reciprocal frame on the LHS of equation \ref{eqn:newtonionmotion}, a 
desire to express the LHS:

\begin{equation*}
-\sum \Be_i \PD{\varphi}{x^i}
\end{equation*}

as a gradient implies a requirement to define:

\begin{equation}
\grad = \sum \Be_i \PD{}{x^i}
\end{equation}

provided we want the LHS to be called a gradient when an orthonormal frame
is used.

FIXME: reorganize this text.  Flow doesn't make sense.

\end{document}               
