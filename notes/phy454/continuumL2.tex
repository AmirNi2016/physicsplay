%\input{../peeter_prologue_print.tex}
%\input{../peeter_prologue_widescreen.tex}

\chapter{Introduction and strain tensor.}
%\chapter{PHY454H1S\\Continuum Mechanics.  Lecture 2.  Introduction and strain tensor.  Taught by Prof. K. Das.}
\label{chap:continuumL2}
%\useCCL
\blogpage{http://sites.google.com/site/peeterjoot2/math2012/continuumL2.pdf}
\date{Jan 13, 2012}
\revisionInfo{continuumL2.tex}

\beginArtWithToc
%\beginArtNoToc

%\section{Disclaimer.}
%
%Peeter's lecture notes from class.  May not be entirely coherent.

\section{Introduction.}

Mechanics could be defined as the study of effects of forces and displacements on a physical body

%figure (\ref{fig:continuumL2:continuumL2fig1})
\begin{figure}[htp]
   \centering
   \includegraphics[totalheight=0.2\textheight]{continuumL2fig1}
   \caption{Physical body.}\label{fig:continuumL2:continuumL2fig1}
\end{figure}

In continuum mechanics we have a physical body and we are interested in the internal motions in the object.  

%figure (\ref{fig:continuumL2:continuumL2fig2})
\begin{figure}[htp]
   \centering
   \includegraphics[totalheight=0.2\textheight]{continuumL2fig2}
   \caption{Control volume elements.}\label{fig:continuumL2:continuumL2fig2}
\end{figure}

For the first time considering mechanics we have to introduce the concepts of fields to make progress tackling these problems.

We will have use of the following types of fields

\begin{itemize}
\item Scalar fields.  $3^0$ components.  Examples: density, Temperature, ...
\item Vector fields.  $3^1$ components.  Examples: Force, velocity.
\item Tensor fields.  $3^2$ components.  Examples: stress, strain.
\end{itemize}

We have to consider objects (a control volume) that is small enough that we can consider that we have a point in space limit for the quantities of density and velocity.  At the same time we cannot take this limiting process to the extreme, since if we use a control volume that is sufficiently small, quantum and inter-atomic effects would have to be considered.

%figure (\ref{fig:continuumL2:continuumL2fig3})
\begin{figure}[htp]
   \centering
   \includegraphics[totalheight=0.2\textheight]{continuumL2fig3}
   \caption{Mass and volume ratios at different scales.}\label{fig:continuumL2:continuumL2fig3}
\end{figure}

\subsection{Stress and Strain definitions.}

\begin{definition}
\emph{(Stress)}
\label{dfn:continuumL2:10}
Measure of the Internal force on the surfaces.
\end{definition}

\begin{definition}
\emph{(Strain)}
\label{dfn:continuumL2:30}
Measure of the deformation of the body.
\end{definition}

\section{Strain Tensor.}

This follows \cite{landau1960theory} \S 1 very closely.

Utilizing summation convention consider a set of small internal displacements $u_1, u_2, u_3$ to the $x, y, z$ coordinates so that the transformation $x_i \rightarrow x_i'$ is related by

%figure (\ref{fig:continuumL2:continuumL2fig4})
\begin{figure}[htp]
   \centering
   \includegraphics[totalheight=0.2\textheight]{continuumL2fig4}
   \caption{Differential change to the object.}\label{fig:continuumL2:continuumL2fig4}
\end{figure}

\begin{align}\label{eqn:continuumL2:50}
u_i &= x_i' - x_i \\
x_i' &= g(x_i) \\
u_i &= f(x_i)
\end{align}

(ie: $x_i'$ is a function of all the initial coordinates, as are the displacements $u_i$).

\begin{equation}\label{eqn:continuumL2:70}
dx_i' = dx_i + du_i
\end{equation}

\begin{align}\label{eqn:continuumL2:90}
dl &= \sqrt{dx_k dx_k} \\
dl' &= \sqrt{d{x'}_k d{x'}_k}
\end{align}

or

\begin{equation}\label{eqn:continuumL2:110}
{dl'}^2 = 
(dx_k + du_k)
(dx_k + du_k)
= 
dl^2 + 2 dx_k du_k + du_k du_k
\end{equation}

with 

\begin{equation}\label{eqn:continuumL2:130}
du_i = \PD{x_k}{u_i} dx_k
\end{equation}

we have

\begin{equation}\label{eqn:continuumL2:150}
du_i^2 = 
\PD{x_k}{u_i} dx_k
\PD{x_l}{u_i} dx_l
\end{equation}

\begin{align*}
{dl'}^2 
&= 
dl^2 
+ 2 \PD{x_k}{u_i} dx_k dx_i 
+ \PD{x_i}{u_l} 
\PD{x_k}{u_l} 
dx_i dx_k \\
&= 
dl^2 
+ 
\left(
\PD{x_k}{u_i} 
+
\PD{x_i}{u_k} 
\right)
dx_k dx_i 
+ \PD{x_i}{u_l} 
\PD{x_k}{u_l} 
dx_i dx_k \\
&=
dl^2 
+ 
2 e_{ik} dx_i dx_k
\end{align*}

We write

\begin{equation}\label{eqn:continuumL2:170}
{dl'}^2 - dl^2 = 2 e_{ik} dx_i dx_k
\end{equation}

where we define the \emph{strain tensor} as

\begin{equation}\label{eqn:continuumL2:190}
e_{ik} = \inv{2} \left(
\left(
\PD{x_k}{u_i} 
+
\PD{x_i}{u_k} 
\right)
+ \PD{x_i}{u_l} 
\PD{x_k}{u_l} 
\right)
\end{equation}

Here $e_{ik}$ is a $3 \times 3$ matrix in Cartesian coordinates

\begin{equation}\label{eqn:continuumL2:210}
\begin{bmatrix}
e_{11} & e_{12} & e_{13} \\
e_{21} & e_{22} & e_{23} \\
e_{31} & e_{32} & e_{33} \\
\end{bmatrix}
\end{equation}

We see from \ref{eqn:continuumL2:190} that $e_{ik}$ is symmetric, so we have

\begin{align}\label{eqn:continuumL2:230}
e_{21} &= e_{12} \\
e_{31} &= e_{13} \\
e_{32} &= e_{23}
\end{align}

Because any real symmetric matrix can be diagonalized we can write in some coordinate system

\begin{equation}\label{eqn:continuumL2:250}
\bar{e}_{ik} = 
\begin{bmatrix}
\bar{e}_{11} & 0 & 0 \\
0 & \bar{e}_{22} & 0 \\
0 & 0 & \bar{e}_{33} \\
\end{bmatrix}
\end{equation}

\begin{align}\label{eqn:continuumL2:270}
{dx_1'}^2 &= (1 + 2 \bar{e}_{11}) dx_1^2 \\
{dx_2'}^2 &= (1 + 2 \bar{e}_{22}) dx_2^2 \\
{dx_3'}^2 &= (1 + 2 \bar{e}_{33}) dx_3^2
\end{align}

If our changes are small enough we can also write approximately, taking the first order term in the square root evaluation

\begin{align}\label{eqn:continuumL2:290}
dx_1' &\approx (1 + \bar{e}_{11}) dx_1 \\
dx_2' &\approx (1 + \bar{e}_{22}) dx_2 \\
dx_3' &\approx (1 + \bar{e}_{33}) dx_3
\end{align}

%FIXME: some hand waving here to think through.
We are also free to define a volume element

\begin{equation}\label{eqn:continuumL2:310}
dV' = 
dx_1'
dx_2'
dx_3'
\approx
(1 + e_{11})
(1 + e_{22})
(1 + e_{33})
dx_1 dx_2 dx_3
\end{equation}

\begin{equation}\label{eqn:continuumL2:330}
dV' = (1 + e_{11} +e_{22} +e_{33} ) dV
\end{equation}

So the change of volume is given by the trace

\begin{equation}\label{eqn:continuumL2:350}
dV' = ( 1 + e_{ii} )^2 dV
\end{equation}

\subsection{Strain Tensor in cylindrical coordinates.}

At the end of the section in the text, the formulas for the spherical and cylindrical versions (to first order) of the strain tensor is given without derivation.  Let's do that derivation for the cylindrical case, which is simpler.  It appears that use of explicit vector notation is helpful here, so we write

\begin{align}\label{eqn:continuumL2:370}
\Bx &= r \rcap + z \zcap \\
\Bu & u_r \rcap + u_\phi \phicap + u_z \zcap
\end{align}

where

\begin{align}\label{eqn:continuumL2:390}
\rcap &= \Be_1 e^{i\phi} \\
\phicap &= \Be_2 e^{i\phi} \\
i &= \Be_1 \Be_2
\end{align}

Since $\rcap$ and $\phicap$ are functions of position, we will need their differentials

\begin{align}\label{eqn:continuumL2:410}
d\rcap &= \Be_1 \Be_1 \Be_2 e^{i\phi} d\phi = \Be_2 e^{i \phi} d\phi \\
d\phicap &= \Be_2 \Be_1 \Be_2 e^{i\phi} d\phi = -\Be_2 e^{i \phi} d\phi,
\end{align}

but these are just scaled basis vectors

\begin{align}\label{eqn:continuumL2:430}
d\rcap &= \phicap d\phi \\
d\phicap &= -\rcap d\phi.
\end{align}

So for our $\Bx$ and $\Bu$ differentials we find

\begin{align*}
d\Bx 
&= dr \rcap + r d\rcap + dz \zcap \\
&= dr \rcap + r \phicap d\phi + dz \zcap,
\end{align*}

and
\begin{align*}
d\Bu 
&= du_r \rcap + du_\phi \phicap + du_z \zcap 
+ u_r \phicap d\phi - u_\phi \rcap d\phi \\
&= \rcap( du_r - u_\phi d\phi )
+ \phicap ( du_\phi + u_r d\phi )
+ \zcap ( du_z ).
\end{align*}

Putting these together we have

\begin{align*}
d\Bl' 
&= d\Bu + d\Bx 
\\
&= \rcap( du_r - u_\phi d\phi + dr )
+ \phicap ( du_\phi + u_r d\phi + r d\phi )
+ \zcap ( du_z + dz ).
\end{align*}

For the squared magnitude's difference from $d\Bx^2$ we have

\begin{align*}
(d\Bl')^2 - d\Bx^2
&= 
( du_r - u_\phi d\phi + dr )^2
+ ( du_\phi + u_r d\phi + r d\phi )^2
+ ( du_z + dz )^2
-dr^2 - r^2 d\phi^2 - dz^2 \\
&=
( du_r - u_\phi d\phi )^2 
+ 2 dr ( du_r - u_\phi d\phi )
+ ( du_\phi + u_r d\phi )^2
+ 2 r d\phi ( du_\phi + u_r d\phi )
+ du_z^2 + 2 du_z dz \\
\end{align*}

Expanding this out, but dropping all the terms that are quadratic in the components of $\Bu$ or its differentials, we have

\begin{align*}
(d\Bl')^2 - d\Bx^2
&\approx
  2 dr ( du_r - u_\phi d\phi )
+ 2 r d\phi ( du_\phi + u_r d\phi )
+ 2 du_z dz \\
&=
  2 dr du_r 
- 2 dr u_\phi d\phi 
+ 2 r d\phi du_\phi 
+ 2 r d\phi u_r d\phi 
+ 2 du_z dz 
\\
&=
  2 dr 
\left( 
\PD{r}{u_r} dr
+\PD{\phi}{u_r} d\phi
+\PD{z}{u_r} dz
\right) \\
&- 2 dr d\phi u_\phi  \\
&+ 2 r d\phi 
\left( 
\PD{r}{u_\phi} dr
+\PD{\phi}{u_\phi} d\phi
+\PD{z}{u_\phi} dz
\right) \\
&+ 2 r d\phi d\phi u_r \\
&+ 2 
dz 
\left( 
\PD{r}{u_z} dr
+\PD{\phi}{u_z} d\phi
+\PD{z}{u_z} dz
\right) \\
\end{align*}

Grouping all terms, with all the second order terms neglected, we have

\begin{equation}\label{eqn:continuumL2:450}
\begin{aligned}
(d\Bl')^2 - d\Bx^2
&=
2 dr dr \PD{r}{u_r} 
+ 2 r^2 d\phi d\phi \left( \inv{r} \PD{\phi}{u_\phi} +\inv{r} u_r \right)
+ 2 dz dz \PD{z}{u_z}  \\
&+ 2 dz dr \left( \PD{z}{u_r} + \PD{r}{u_z} \right)
+ 2 dr r d\phi \left( \PD{r}{u_\phi} - \inv{r} u_\phi + \inv{r} \PD{\phi}{u_r} \right)
+ 2 dz r d\phi \left( \PD{z}{u_\phi} +\inv{r} \PD{\phi}{u_z} \right).
\end{aligned}
\end{equation}

From this we can read off the result quoted in the text

\begin{align}\label{eqn:continuumL2:470}
2 e_{rr} &= \PD{r}{u_r}  \\
2 e_{\phi\phi} &= \inv{r} \PD{\phi}{u_\phi} +\inv{r} u_r  \\
2 e_{zz} &= \PD{z}{u_z}  \\
2 e_{zr} &= \PD{z}{u_r} + \PD{r}{u_z} \\
2 e_{r\phi} &= \PD{r}{u_\phi} - \inv{r} u_\phi + \inv{r} \PD{\phi}{u_r} \\
2 e_{\phi z} &= \PD{z}{u_\phi} +\inv{r} \PD{\phi}{u_z}.
\end{align}

Observe that we have to introduce factors of $r$ along with all the $d\phi$'s, when we factored out the tensor components.  That's an important looking detail, which isn't obvious unless one works through the derivation.

Note that in class we retained the second order terms.  That becomes a messier calculation and \href{https://github.com/peeterjoot/physicsplay/blob/master/notes/phy454/strainTensorCylindrical.cdf}{I've cheated using the symbolic capabilities of mathematica} to do it

\begin{equation}\label{eqn:continuumL2:490}
\begin{aligned}
&(d\Bl')^2 - d\Bx^2 \\
&= 
%2 dr^2 \left(
%\PD{r}{u_r} 
%+ \inv{2} \left(
%\PD{r}{u_r} \PD{r}{u_r}
%+ 
%\PD{r}{u_\phi} \PD{r}{u_\phi}
%+ 
%\PD{r}{u_z} \PD{r}{u_z}
%\right)
%\right) \\
%& + 2 r^2 d\phi^2 \left(
%\inv{r} \PD{\phi}{u_\phi} 
%+ \inv{r} u_r 
%+
%\inv{2 r^2} \left(
%  \PD{\phi}{u_r} \PD{\phi}{u_r}
%+ \PD{\phi}{u_\phi} \PD{\phi}{u_\phi}
%+ \PD{\phi}{u_z} \PD{\phi}{u_z}
%\right)
%+ \inv{r^2} \left(
%u_r^2
%+
%u_\phi^2 
%+
%\PD{\phi}{u_\phi} u_r 
%- 
%\PD{\phi}{u_r} u_\phi 
%\right)
%\right) \\
%&+ 2 dz^2 \left(
%  \PD{z}{u_z} 
%+ \inv{2} \left( 
%  \PD{z}{u_r} \PD{z}{u_r}
%+ \PD{z}{u_\phi} \PD{z}{u_\phi}
%+ \PD{z}{u_z} \PD{z}{u_z}
%\right)
%\right) \\
%&+ 2 
%dz
%dr
%\left(
%  \PD{r}{u_z} 
%+ \PD{z}{u_r} 
%+ 
%\left(
%\PD{r}{u_r} \PD{z}{u_r} 
%+ \PD{r}{u_\phi} \PD{z}{u_\phi} 
%+ \PD{r}{u_z} \PD{z}{u_z}
%\right) 
%\right) 
%\\
%&+ 2 
%dr
%r d\phi 
%\left( 
% \inv{r} \PD{\phi}{u_r} 
%- \inv{r} u_\phi 
%+ \PD{r}{u_\phi} 
%+ \inv{r}
%\left(
%  \PD{\phi}{u_r} \PD{r}{u_r} 
%+ \PD{\phi}{u_\phi} \PD{r}{u_\phi} 
%+ \PD{\phi}{u_z} \PD{r}{u_z} 
%\right)
%- \inv{r} \PD{r}{u_r} u_\phi 
%+ \inv{r} \PD{r}{u_\phi} u_r 
%\right) \\
%&+ 2 r d\phi dz \left(
%  \inv{r} \PD{\phi}{u_z} 
%+ \PD{z}{u_\phi} 
%+ \inv{r} 
%\left(
%  \PD{\phi}{u_r} \PD{z}{u_r} 
%+ \PD{\phi}{u_\phi} \PD{z}{u_\phi} 
%+ \PD{\phi}{u_z} \PD{z}{u_z} 
%\right)
%- \inv{r} \PD{z}{u_r} u_\phi 
%+ \inv{r} \PD{z}{u_\phi} u_r 
%\right) \\
(dr)^2 \left(2 \frac{\partial u_r}{\partial r}+\left(\frac{\partial u_r}{\partial r}\right)^2+\left(\frac{\partial u_z}{\partial r}\right)^2+\left(\frac{\partial u_{\phi }}{\partial r}\right)^2\right) \\
&+(d\phi )^2 \left(2 r u_r+u_r^2+u_{\phi }^2-2 u_{\phi } \frac{\partial u_r}{\partial \phi }+\left(\frac{\partial u_r}{\partial \phi }\right)^2+\left(\frac{\partial u_z}{\partial \phi }\right)^2+2 r \frac{\partial u_{\phi }}{\partial \phi }+2 u_r \frac{\partial u_{\phi }}{\partial \phi }+\left(\frac{\partial u_{\phi }}{\partial \phi }\right)^2\right) \\
&+(dz)^2 \left(\left(\frac{\partial u_r}{\partial z}\right)^2+2 \frac{\partial u_z}{\partial z}+\left(\frac{\partial u_z}{\partial z}\right)^2+\left(\frac{\partial u_{\phi }}{\partial z}\right)^2\right) \\
&+dr d\phi  \left(-2 u_{\phi }-2 u_{\phi } \frac{\partial u_r}{\partial r}+2 \frac{\partial u_r}{\partial \phi }+2 \frac{\partial u_r}{\partial r} \frac{\partial u_r}{\partial \phi }+2 \frac{\partial u_z}{\partial r} \frac{\partial u_z}{\partial \phi }+2 r \frac{\partial u_{\phi }}{\partial r}+2 u_r \frac{\partial u_{\phi }}{\partial r}+2 \frac{\partial u_{\phi }}{\partial r} \frac{\partial u_{\phi }}{\partial \phi }\right) \\
&+dz d\phi  \left(-2 u_{\phi } \frac{\partial u_r}{\partial z}+2 \frac{\partial u_r}{\partial z} \frac{\partial u_r}{\partial \phi }+2 \frac{\partial u_z}{\partial \phi }+2 \frac{\partial u_z}{\partial z} \frac{\partial u_z}{\partial \phi }+2 r \frac{\partial u_{\phi }}{\partial z}+2 u_r \frac{\partial u_{\phi }}{\partial z}+2 \frac{\partial u_{\phi }}{\partial z} \frac{\partial u_{\phi }}{\partial \phi }\right) \\
&+dr dz \left(2 \frac{\partial u_r}{\partial z}+2 \frac{\partial u_r}{\partial r} \frac{\partial u_r}{\partial z}+2 \frac{\partial u_z}{\partial r}+2 \frac{\partial u_z}{\partial r} \frac{\partial u_z}{\partial z}+2 \frac{\partial u_{\phi }}{\partial r} \frac{\partial u_{\phi }}{\partial z}\right).
\end{aligned}
\end{equation}

As with the first order case, we can read off the tensor coordinates by inspection (once we factor out the various factors of $2$ and $r$).  The next logical step would be to do the spherical tensor calculation.  That would likely be particularily messy if we attempted it in the brute force fashion.  Let's step back and look at the general case, before tackling there sphereical polar form explicitly.

\subsection{Strain Tensor for general coordinate representation.}

Now let's dispense with the assumption that we have an orthonormal frame.  Given an arbitrary, not neccessarily orthonormal, position dependent frame $\{e_\mu\}$, and its reciprocal frame $\{e^\mu\}$, as defined by

\begin{equation}\label{eqn:continuumL2:510}
e_\mu \cdot e^\nu = {\delta_\mu}^\nu.
\end{equation}

Our coordinate representation, with summation and dimensionality implied, is

\begin{align}\label{eqn:continuumL2:530}
\Bx &= x^\mu e_\mu = x_\nu e^\nu \\
\Bu &= u^\mu e_\mu = u_\nu e^\nu.
\end{align}

Our differentials are

\begin{equation}\label{eqn:continuumL2:550}
\begin{aligned}
d\Bx 
&= dx^\mu e_\mu + x^\mu d e_\mu \\
&= \sum_\alpha d\alpha \left( 
\PD{\alpha}{x^\mu} e_\mu
+
x^\mu
\PD{\alpha}{e_\mu} 
\right),
\end{aligned}
\end{equation}

and

\begin{equation}\label{eqn:continuumL2:570}
\begin{aligned}
d\Bu 
&= du^\mu e_\mu + u^\mu d e_\mu \\
&= 
\sum_\alpha
d\alpha \left( 
\PD{\alpha}{u^\mu} e_\mu
+
u^\mu
\PD{\alpha}{e_\mu} 
\right).
\end{aligned}
\end{equation}

Summing these we have

\begin{equation}\label{eqn:continuumL2:590}
d\Bu + d\Bu 
= 
\sum_\alpha
d\alpha \left( 
\left(
\PD{\alpha}{x^\mu} 
+
\PD{\alpha}{u^\mu} 
\right)
e_\mu
+
\left(
x^\mu
+
u^\mu
\right)
\PD{\alpha}{e_\mu} 
\right).
\end{equation}

Taking dot products to form the squares we have

\begin{align*}
d\Bx^2 
&= 
\sum_{\alpha, \beta} 
d\alpha 
d\beta 
\left( 
\PD{\alpha}{x^\mu} e_\mu
+
x^\mu
\PD{\alpha}{e_\mu} 
\right)
\cdot
\left( 
\PD{\beta}{x_\nu} e^\nu
+
x_\nu
\PD{\beta}{e^\nu} 
\right) 
\\
&=
\sum_{\alpha, \beta} 
d\alpha 
d\beta 
\left( 
\PD{\alpha}{x^\mu} \PD{\beta}{x_\mu} 
+
x^\mu x_\nu
\PD{\alpha}{e_\mu} 
\cdot
\PD{\beta}{e^\nu} 
+ 
2 \PD{\alpha}{x^\mu} 
x_\nu
e_\mu \cdot
\PD{\beta}{e^\nu} 
\right),
\end{align*}

and

\begin{align*}
&(d\Bu + d\Bx)^2 \\
&= 
\sum_{\alpha, \beta}
d\alpha 
d\beta 
\left( 
\left(
\PD{\alpha}{x^\mu} 
+
\PD{\alpha}{u^\mu} 
\right)
e_\mu
+
\left(
x^\mu
+
u^\mu
\right)
\PD{\alpha}{e_\mu} 
\right)
\cdot
\left( 
\left(
\PD{\beta}{x_\nu} 
+
\PD{\beta}{u_\nu} 
\right)
e^\nu
+
\left(
x_\nu
+
u_\nu
\right)
\PD{\beta}{e^\nu} 
\right) \\
&= 
\sum_{\alpha, \beta}
d\alpha 
d\beta 
\left(
%%%
\left(
\PD{\alpha}{x^\mu} 
+
\PD{\alpha}{u^\mu} 
\right)
\left(
\PD{\beta}{x_\mu} 
+
\PD{\beta}{u_\mu} 
\right)
%%%
+
\left(
x^\mu
+
u^\mu
\right)
\left(
x_\nu
+
u_\nu
\right)
\PD{\alpha}{e_\mu} 
\cdot
\PD{\beta}{e^\nu} 
%%%
+
2
\left(
x^\mu
+
u^\mu
\right)
e^\nu
\cdot
\PD{\alpha}{e_\mu} 
\left(
\PD{\beta}{x_\nu} 
+
\PD{\beta}{u_\nu} 
\right)
\right).
\end{align*}

Taking the difference we find

\begin{equation}\label{eqn:continuumL2:610}
\begin{aligned}
&(d\Bu + d\Bx)^2 - d\Bx^2 \\
&=
\sum_{\alpha, \beta}
d\alpha 
d\beta 
\left( 
\PD{\alpha}{u^\mu} 
\PD{\beta}{u_\mu} 
+
2
\PD{\alpha}{u^\mu} 
\PD{\beta}{x_\mu} 
+ 
\left(
u^\mu u_\nu 
+
x^\mu u_\nu 
+
u^\mu x_\nu 
\right)
\PD{\alpha}{e_\mu}
\cdot
\PD{\beta}{e^\nu} 
+
2 
\left(
\PD{\alpha}{x^\mu}
u_\nu
+
\PD{\alpha}{u^\mu}(
x_\nu
+
u_\nu
)
\right)
e_\mu \cdot 
\PD{\beta}{e^\nu}
\right).
\end{aligned}
\end{equation}

To evaluate this, it is useful, albeit messier, to group terms a bit

\begin{equation}\label{eqn:continuumL2:610b}
\begin{aligned}
&(d\Bu + d\Bx)^2 - d\Bx^2 \\
&=
\sum_{\alpha}
2 d\alpha 
d\alpha 
\left( 
\inv{2}
\PD{\alpha}{u^\mu} 
\PD{\alpha}{u_\mu} 
+
\PD{\alpha}{u^\mu} 
\PD{\alpha}{x_\mu} 
+ 
\inv{2}
\left(
u^\mu u_\nu 
+
x^\mu u_\nu 
+
u^\mu x_\nu 
\right)
\PD{\alpha}{e_\mu}
\cdot
\PD{\alpha}{e^\nu} 
+
\left(
\PD{\alpha}{x^\mu}
u_\nu
+
\PD{\alpha}{u^\mu}(
x_\nu
+
u_\nu
)
\right)
e_\mu \cdot 
\PD{\alpha}{e^\nu}
\right) \\
&+
\sum_{\alpha < \beta}
2 d\alpha 
d\beta 
\left( 
\PD{\alpha}{u^\mu} 
\PD{\beta}{u_\mu} 
+
\PD{\alpha}{u^\mu} 
\PD{\beta}{x_\mu} 
+
\PD{\beta}{u^\mu} 
\PD{\alpha}{x_\mu} 
+ 
\inv{2}
\left(
u^\mu u_\nu 
+
x^\mu u_\nu 
+
u^\mu x_\nu 
\right)
\left(
\PD{\alpha}{e_\mu}
\cdot
\PD{\beta}{e^\nu} 
+
\PD{\beta}{e_\mu}
\cdot
\PD{\alpha}{e^\nu} 
\right) 
\right) 
\\
&+
\sum_{\alpha < \beta}
2 d\alpha 
d\beta 
\left( 
\left(
\PD{\alpha}{x^\mu}
u_\nu
+
\PD{\alpha}{u^\mu}(
x_\nu
+
u_\nu
)
\right)
e_\mu \cdot 
\PD{\beta}{e^\nu}
+
\left(
\PD{\beta}{x^\mu}
u_\nu
+
\PD{\beta}{u^\mu}(
x_\nu
+
u_\nu
)
\right)
e_\mu \cdot 
\PD{\alpha}{e^\nu}
\right)
\end{aligned}
\end{equation}

Here $\alpha < \beta$ is used to denote summation over the pairs $\alpha \ne \beta$ just once, not neccessarily any numeric ordering.  For example with $\alpha, \beta \in \{r, \phi, z\}$, this could be the set $\{\alpha, \beta\} \in \{r \phi, \phi z, z r\}$.

\subsection{Cartesian tensor.}

In the Cartesian case all the partials of the unit vectors are zero, and we also have no need of upper or lower indexes.  We are left with just

\begin{equation}\label{eqn:continuumL2:630}
(d\Bu + d\Bx)^2 - d\Bx^2 
=
\sum_{i, j, k}
dx^i
dx^j
\left( 
\PD{x^i}{u^k} 
\PD{x^j}{u^k} 
+
2
\PD{x^i}{u^k} 
\PD{x^j}{x^k} 
\right)
\end{equation}

However, since we also have $\PDi{x^j}{x^k} = \delta_{jk}$, this is

\begin{equation}\label{eqn:continuumL2:650}
(d\Bu + d\Bx)^2 - d\Bx^2 
=
\sum_{i, j}
2
dx^i
dx^j
\left( 
\inv{2}
\sum_k
\PD{x^i}{u^k} 
\PD{x^j}{u^k} 
+
\PD{x^i}{u^j} 
\right).
\end{equation}

This essentially recovers the result \ref{eqn:continuumL2:190} derived in class.

\subsection{Cylindrial tensor.}

Now lets do the cylindrical tensor again, but this time without resorting mathematica brute force.

First we recall that all our basis vector derivatives are zero except for the $\phi$ derivatives, and for those we have

\begin{align}\label{eqn:continuumL2:670}
\PD{\phi}{\rcap} &= \phicap \\
\PD{\phi}{\thetacap} &= -\rcap.
\end{align}

If we write

\begin{equation}\label{eqn:continuumL2:690}
\Bx = r \rcap + z \zcap = x_r \rcap + x_\phi \phicap + x_z \zcap
\end{equation}

We have for all the $x^\mu$ partials

\begin{equation}\label{eqn:continuumL2:710}
\PD{\alpha}{x^\mu} = 
\left\{
\begin{array}{l l}
1 & \quad \mbox{if $\alpha = x^\mu = r$ or $\alpha = x^\mu = z$} \\
0 & \quad \mbox{otherwise}
\end{array}
\right.
\end{equation}

We are now set to evaluate the terms in the sum of \ref{eqn:continuumL2:610b} for the cylindrical coordinate system and shouldn't need Mathematica to do it.  Let's do this one at a time, starting with all the squared differential pairs.  Those are, for $\alpha \in \{r, \phi, z\}$ the value of

\begin{equation}\label{eqn:continuumL2:n}
2 d\alpha d\alpha 
\left( 
\inv{2}
\PD{\alpha}{u_m} 
\PD{\alpha}{u_m} 
+
\PD{\alpha}{u_m} 
\PD{\alpha}{x_m} 
+ 
\inv{2}
\left(
u_m u_n 
+
x_m u_n 
+
u_m x_n 
\right)
\PD{\alpha}{e_m}
\cdot
\PD{\alpha}{e_n} 
+
\left(
\PD{\alpha}{x_m}
u_n
+
\PD{\alpha}{u_m}(
x_n
+
u_n
)
\right)
e_m \cdot 
\PD{\alpha}{e_n}
\right)
\end{equation}

For both $r$ and $z$ all our unit vectors have zero derivatives so we are left respectively with

\begin{equation}\label{eqn:continuumL2:n}
2 dr dr 
\left( 
\inv{2}
\PD{r}{u_m} 
\PD{r}{u_m} 
+
\PD{r}{u_r} 
\right),
\end{equation}

and

\begin{equation}\label{eqn:continuumL2:n}
2 dz dz 
\left( 
\inv{2}
\PD{z}{u_m} 
\PD{z}{u_m} 
+
\PD{z}{u_z} 
\right).
\end{equation}

For the $\alpha = \phi$ term we have

\begin{align*}
&2 d\phi d\phi 
\left( 
\inv{2}
\PD{\phi}{u_m} 
\PD{\phi}{u_m} 
+ 
\inv{2}
\sum_{m = r, \phi}
\left(
u_m u_m 
+
2 x_m u_m 
\right)
+
\sum_{m n \in \{r \phi, \phi r\}}
\left(
\PD{\phi}{x_m}
u_n
+
\PD{\phi}{u_m}(
x_n
+
u_n
)
\right)
e_m \cdot 
\PD{\phi}{e_n}
\right) \\
&=
2 d\phi d\phi 
\left( 
\inv{2}
\PD{\phi}{u_m} 
\PD{\phi}{u_m} 
+ 
\inv{2} \left( u_r^2 + u_\phi^2 \right) + r u_r
-
\PD{\phi}{u_r}
u_\phi
+
\PD{\phi}{u_\phi}(
r
+
u_r
)
\right)
\end{align*}

Now, on to the mixed terms.  The easiest is the $dz dr$ term, for which all the unit vector derivatives are zero, and we are left with just

\begin{align*}
2 dz dr 
\left( 
\PD{z}{u_m} 
\PD{r}{u_m} 
+
\PD{z}{u_m} 
\PD{r}{x_m} 
+
\PD{r}{u_m} 
\PD{z}{x_m} 
\right)
=
2 dz dr 
\left( 
\PD{z}{u_m} 
\PD{r}{u_m} 
+
\PD{z}{u_r} 
+
\PD{r}{u_z} 
\right)
\end{align*}

Now we have the two messy mixed terms.  For the $r$, $\phi$ term we get

\begin{align*}
&2 dr 
d\phi 
\left( 
\PD{r}{u_m} 
\PD{\phi}{u_m} 
+
\PD{r}{u_m} 
\cancel{\PD{\phi}{x_m}}
+
\PD{\phi}{u_m} 
\PD{r}{x_m} 
+ 
\inv{2}
\left(
u_m u_n 
+
x_m u_n 
+
u_m x_n 
\right)
\left(
\cancel{\PD{r}{e_m}}
\cdot
\PD{\phi}{e_n} 
+
\PD{\phi}{e_m}
\cdot
\cancel{\PD{r}{e_n} }
\right) 
\right) 
\\
&+
2 dr d\phi 
\left( 
\left(
\PD{r}{x_m}
u_n
+
\PD{r}{u_m}(
x_n
+
u_n
)
\right)
e_m \cdot 
\PD{\phi}{e_n}
+
\left(
\PD{\phi}{x_m}
u_n
+
\PD{\phi}{u_m}(
x_n
+
u_n
)
\right)
e_m \cdot 
\cancel{\PD{r}{e_n}}
\right) \\
&=2 dr d\phi 
\left( 
\PD{r}{u_m} 
\PD{\phi}{u_m} 
+
\PD{\phi}{u_r} 
+
u_n
\rcap \cdot 
\PD{\phi}{e_n}
+
\PD{r}{u_m}(
x_n
+
u_n
)
e_m \cdot 
\PD{\phi}{e_n}
\right) \\
&=2 dr d\phi 
\left( 
\PD{r}{u_m} 
\PD{\phi}{u_m} 
+
\PD{\phi}{u_r} 
-
u_\phi
+
\PD{r}{u_r}(
x_n
+
u_n
)
\rcap \cdot 
\PD{\phi}{e_n}
+
\PD{r}{u_\phi}(
x_n
+
u_n
)
\phicap \cdot 
\PD{\phi}{e_n}
\right) \\
&=2 dr d\phi 
\left( 
\PD{r}{u_m} 
\PD{\phi}{u_m} 
+
\PD{\phi}{u_r} 
-
u_\phi
-
\PD{r}{u_r}
u_\phi
+
\PD{r}{u_\phi}(
r 
+
u_r
)
\right) \\
\end{align*}

Finally for the $z$, $\phi$ term we have

\begin{align*}
&2 dz 
d\phi 
\left( 
\PD{z}{u_m} 
\PD{\phi}{u_m} 
+
\PD{z}{u_m} 
\cancel{\PD{\phi}{x_m} }
+
\PD{\phi}{u_m} 
\PD{z}{x_m} 
+ 
\inv{2}
\left(
u_m u_n 
+
x_m u_n 
+
u_m x_n 
\right)
\left(
\cancel{\PD{z}{e_m}}
\cdot
\PD{\phi}{e_n} 
+
\PD{\phi}{e_m}
\cdot
\cancel{\PD{z}{e_n} }
\right) 
\right) 
\\
&+
2 d\phi dz 
\left( 
\left(
\PD{z}{x_m}
u_n
+
\PD{z}{u_m}(
x_n
+
u_n
)
\right)
e_m \cdot 
\PD{\phi}{e_n}
+
\left(
\PD{\phi}{x_m}
u_n
+
\PD{\phi}{u_m}(
x_n
+
u_n
)
\right)
e_m \cdot 
\cancel{\PD{z}{e_n}}
\right) \\
&=2 dz 
d\phi 
\left( 
\PD{z}{u_m} 
\PD{\phi}{u_m} 
+
\PD{\phi}{u_m} 
\PD{z}{x_m} 
+
\cancel{
u_n
\zcap \cdot 
\PD{\phi}{e_n}
}
+
\PD{z}{u_m}(
x_n
+
u_n
)
e_m \cdot 
\PD{\phi}{e_n}
\right) 
\\
&=2 dz 
d\phi 
\left( 
\PD{z}{u_m} 
\PD{\phi}{u_m} 
+
\PD{\phi}{u_z} 
-
\PD{z}{u_r}
u_\phi
+
\PD{z}{u_\phi}(
r
+
u_r
)
\right) 
\\
\end{align*}

To summarize we have, including both first and second order terms,

\begin{equation}\label{eqn:continuumL2:n}
\begin{aligned}
{d\Bl'}^2 - d\Bx^2
&=
2 dr dr 
\left( 
\inv{2}
\PD{r}{u_m} 
\PD{r}{u_m} 
+
\PD{r}{u_r} 
\right) \\
&+
2 r^2 d\phi d\phi 
\left( 
\inv{2 r^2}
\PD{\phi}{u_m} 
\PD{\phi}{u_m} 
+ 
\inv{2 r^2} \left( u_r^2 + u_\phi^2 \right) 
+ \frac{u_r}{r}
-
\inv{r}
\PD{\phi}{u_r}
\frac{u_\phi}{r}
+
\inv{r}
\PD{\phi}{u_\phi}\left(
1
+
\frac{u_r}{r}
\right)
\right) \\
&+
2 dz dz 
\left( 
\inv{2}
\PD{z}{u_m} 
\PD{z}{u_m} 
+
\PD{z}{u_z} 
\right) \\
&+2 dr r d\phi 
\left( 
\PD{r}{u_m} 
\inv{r}
\PD{\phi}{u_m} 
+
\inv{r}
\PD{\phi}{u_r} 
-
\frac{u_\phi}{r}
-
\PD{r}{u_r}
\frac{u_\phi}{r}
+
\PD{r}{u_\phi}\left(
1 
+
\frac{u_r}{r}
\right)
\right) \\
&+2 r d\phi dz 
\left( 
\PD{z}{u_m} 
\inv{r}
\PD{\phi}{u_m} 
+
\inv{r}
\PD{\phi}{u_z} 
-
\PD{z}{u_r}
\frac{u_\phi}{r}
+
\PD{z}{u_\phi}\left(
1
+
\frac{u_r}{r}
\right)
\right) 
\\
&+2 dz dr 
\left( 
\PD{z}{u_m} 
\PD{r}{u_m} 
+
\PD{z}{u_r} 
+
\PD{r}{u_z} 
\right)
\end{aligned}
\end{equation}

Factors of $r$ have been pulled out so that the portions remaining in the braces are exactly the cylindrical tensor elements as given in the text (except also with the second order terms here).  Observe that the pre-calculation of the general formula has allowed an on paper expansion of the cylindrical tensor without too much pain, and this time without requiring Mathematica.

\subsection{Spherical tensor.}

FIXME: TODO.

\EndArticle
