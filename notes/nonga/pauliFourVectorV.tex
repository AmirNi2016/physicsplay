%\documentclass{article}

%\input{../peeters_macros.tex}
%\input{../peeters_macros2.tex}

%\usepackage{listings}
%\usepackage{txfonts} % for ointctr... (also appears to make "prettier" \int and \sum's)
%\usepackage[bookmarks=true]{hyperref}

%\usepackage{color,cite,graphicx}
   % use colour in the document, put your citations as [1-4]
   % rather than [1,2,3,4] (it looks nicer, and the extended LaTeX2e
   % graphics package. 
%\usepackage{latexsym,amssymb,epsf} % don't remember if these are
   % needed, but their inclusion can't do any damage


\chapter{Four vector velocity addition notes. }
\label{chap:pauliFourVectorV}
%\author{Peeter Joot \quad peeter.joot@gmail.com }
\date{ April 8, 2009.  $RCSfile: pauliFourVectorV.tex,v $ Last $Revision: 1.14 $ $Date: 2009/06/14 23:51:45 $ }

%\begin{document}

%\maketitle{}
%\tableofcontents
\section{Motivation. }

Reconcile four vector transformed velocity coordinates with non-covariant form.
Specifically, equations (10) and (191) in \citep{pauli1981tr} look considerably
different on the surface, but must have the same content.

Equations (10) were also derived in a bit more detail than in Pauli's book in
\citep{PJpauliVelocityAddition} and are

\begin{align}\label{eqn:pauli_four_vector_v:eqn10}
u_x &= \frac{ {u_x}' + v  }{ 1 + v {u_x}'/c^2} \\
u_y &= \frac{{u_y}'}{\gamma (1 + v {u_x}'/c^2)} \\
u_z &= \frac{{u_z}'}{\gamma (1 + v {u_x}'/c^2)} \\
\gamma^{-1} &= \sqrt{ 1 - v^2/c^2}
\end{align}

whereas equations (191) are given as

\begin{align}\label{eqn:pauli_four_vector_v:eqn191}
{u^1}' &= \gamma ( u^1 + i (v/c) u^4) \\
{u^2}' &= {u^2} \\
{u^3}' &= {u^3} \\
{u^4}' &= \gamma ( u^4 - i (v/c) u^1)
\end{align}

\section{Derive the transformed velocity equations. }

Pauli uses a $(+,+,+,-)$ metric, with $ct = x^4 = - x_4$.  For much of his SR treatment he also uses the Minkowski representation $x^4 = x_4 = ict$. In the first representation we have

\begin{align*}
-c^2 
&= \frac{dx^\mu}{d\tau} \frac{dx_\mu}{d\tau} \\
&= \frac{dx^k}{d\tau} \frac{dx_k}{d\tau} + \frac{dx^4}{d\tau} \frac{dx_4}{d\tau} \\
&= \left(\frac{dt}{d\tau}\right)^2 \left( \sum_{k=1}^3 \left(\frac{dx^k}{dt}\right)^2 - \left(\frac{dx^4}{dt}\right)^2 \right) \\
&= \left(\frac{dt}{d\tau}\right)^2 \left( \Bu^2 - c^2 \right) \\
\end{align*}

Shuffling and taking roots produces a $\gamma$ factor by virtue of the invariant

\begin{align*}
%\gamma 
%&= 
\frac{dt}{d\tau} \\
&= \inv{\sqrt{ 1 - \Bu^2/c^2 }}
\end{align*}

This is enough to write the proper velocity in terms of a space time split 

\begin{align*}
\dot{X} 
&= \left(\frac{dx^\mu}{d\tau}\right) \\
&= \inv{\sqrt{ 1 - \Bu^2/c^2 }} (\Bu, c)
\end{align*}

As a four vector this can be Lorentz boosted.  For an 
x-axis boost we have

\begin{align*}
{\begin{bmatrix}
u^1 \\
u^2 \\
u^3 \\
u^4 \\
\end{bmatrix}}'
&=
\begin{bmatrix}
\gamma & 0 & 0 & - \gamma \beta \\
0 & 1 & 0 & 0 \\
0 & 0 & 1 & 0 \\
- \gamma \beta & 0 & 0 & \gamma \\
\end{bmatrix}
{\begin{bmatrix}
u^1 \\
u^2 \\
u^3 \\
u^4 \\
\end{bmatrix}} 
\\
\gamma &= \inv{\sqrt{ 1 - \beta^2 }} \\
\end{align*}

Expanding this we have

\begin{align}\label{eqn:pauli_four_vector_v:realRepresentationFourVector}
{u^1}' &= \gamma ( u^1 - \beta u^4) \\
{u^2}' &= {u^2} \\
{u^3}' &= {u^3} \\
{u^4}' &= \gamma ( u^4 - \beta u^1)
\end{align}

In the imaginary representation the Lorentz transform takes the form

\begin{align*}
{\begin{bmatrix}
u^1 \\
u^2 \\
u^3 \\
u^4 \\
\end{bmatrix}}'
&=
\begin{bmatrix}
\gamma & 0 & 0 & i \gamma \beta \\
0 & 1 & 0 & 0 \\
0 & 0 & 1 & 0 \\
- i \gamma \beta & 0 & 0 & \gamma \\
\end{bmatrix}
{\begin{bmatrix}
u^1 \\
u^2 \\
u^3 \\
u^4 \\
\end{bmatrix}} 
\end{align*}

Let's verify that this produces the same result by expansion

\begin{align*}
{u^1}' &= \gamma ( u^1 + i \beta u^4) \\
{u^2}' &= {u^2} \\
{u^3}' &= {u^3} \\
{u^4}' &= \gamma ( u^4 - \beta i u^1)
\end{align*}

with $u^4 \rightarrow i u^4$ to switch to a real representation this is

\begin{align*}
{u^1}' &= \gamma ( u^1 - \beta u^4) \\
{u^2}' &= {u^2} \\
{u^3}' &= {u^3} \\
{u^4}' &= \gamma ( u^4 - \beta u^1)
\end{align*}

Good.  This matches equations \ref{eqn:pauli_four_vector_v:realRepresentationFourVector}.  Now, we want to put these in an explicit space time representation
to compare against \ref{eqn:pauli_four_vector_v:eqn10}.  Since those are in real form, work with the real representation instead of the imaginary Minkowski
representation for such a comparison.

\subsection{WRONG: Non-covariant representation of the transformed velocity. }

Expanding out the proper time derivatives (assuming that $dx'/dt' = v$ is a correct interpretation of the math), we have

\begin{align*}
\inv{\sqrt{1 - v^2/c^2}} \frac{{dx'}^1}{dt'} &= \inv{\sqrt{1 - v^2/c^2}} \inv{\sqrt{1 - \Bu^2/c^2}} \left( \frac{dx^1}{dt} - \beta c \right) \\
\inv{\sqrt{1 - v^2/c^2}} \frac{{dx'}^2}{dt'} &= \inv{\sqrt{1 - \Bu^2/c^2}} \frac{dx^2}{dt} \\
\inv{\sqrt{1 - v^2/c^2}} \frac{{dx'}^3}{dt'} &= \inv{\sqrt{1 - \Bu^2/c^2}} \frac{dx^3}{dt} \\
\inv{\sqrt{1 - v^2/c^2}} \frac{{dx'}^4}{dt'} &= \inv{\sqrt{1 - v^2/c^2}} \inv{\sqrt{1 - \Bu^2/c^2}} \left( c - \beta \frac{dx^1}{dt} \right)
\end{align*}

Hmm.  That doesn't appear to match.

\section{Try again from scratch. }

\subsection{Boost a stationary particle. }

Instead of starting with a proper velocity with a spatial component, let's cut the complexity and consider the simplest case, a particle at rest.  The worldline (in two dimensions) for a particle in its rest frame is

\begin{align*}
X = (0, ct) 
\end{align*}

The proper velocity for this particle is 

\begin{align*}
u = \frac{dX}{d\tau} = \left(0, c\frac{dt}{d\tau} \right) 
\end{align*}

But since this is a particle in its rest frame $dt/d\tau = 1$, this proper velocity is

\begin{align*}
u = \left(0, c \right) 
\end{align*}

Observe that the norm of this vector (still using the time negative metric signature) is

\begin{align*}
u \cdot u = 0^2 - c^2 = -c^2
\end{align*}

Now, what happens when we apply a Lorentz boost to this?

\begin{align*}
u' &= 
\begin{bmatrix}
\gamma & - \gamma \beta \\
- \gamma \beta & \gamma \\
\end{bmatrix}
\begin{bmatrix}
0 \\
c
\end{bmatrix} \\
\end{align*}

This is
\begin{align}\label{eqn:pauli_four_vector_v:uPrime}
u' &= 
\gamma
\begin{bmatrix}
- \beta \\
1 \\
\end{bmatrix}
c
\end{align}

What's the norm of this vector.  It should be unchanged, so let's verify.

\begin{align*}
u' \cdot u' 
&= \gamma^2 \left( (- \beta)^2 - 1^2 \right) c^2 \\
&= - \gamma^2 \left( 1 - \beta^2 \right) c^2 \\
&= - c^2 \\
\end{align*}

Good, still have the expected $-c^2$ value.  For this boosted vector, what is $dt'/d\tau'$?

Note that in general for the components of $u'$ we have

\begin{align*}
\frac{{dx'}^\mu}{d\tau'}
&=
\frac{{dx'}^\mu}{dt'} \frac{{dt'}}{d\tau'}
\end{align*}

and in particular we have ${u'}^4 = c dt'/d\tau$ %, since the proper time $\tau'$ in the primed frame measures the time for the particle at rest
%in that frame.  This gives

\begin{align*}
{u'}^4
&=
\frac{{dx'}^4}{dt'} \frac{{dt'}}{d\tau'} \\
&= c \frac{{dt'}}{d\tau'} \\
\end{align*}

Comparing to \ref{eqn:pauli_four_vector_v:uPrime} we have

\begin{align*}
{u'}^4 
&= \gamma c \\
&= c \frac{{dt'}}{d\tau'} \\
\end{align*}

and therefore can write

\begin{align*}
\frac{{dt'}}{d\tau'} 
&= \gamma 
\end{align*}

Similarly the spatial velocity of the particle in the boosted frame is

\begin{align*}
{u'}^1
&=
\frac{{dx'}^1}{dt'} \frac{{dt'}}{d\tau'} \\
&= u_x' \frac{{dt'}}{d\tau'} \\
&= - \gamma v
\end{align*}

So we have 

\begin{align*}
u_x' = -v 
\end{align*}

This seems to make sense.  We move the frame along the positive x-axis, so a particle at rest at the origin of the stationary frame has a velocity $v$ in the opposite direction from the viewpoint of something at rest in the moving frame.

\subsection{Apply a second boost transformation. }

Okay, treating the almost too simple case in detail was helpful to see where to go next.  Now that we have a view of a particle at rest
from a moving frame, let's apply another boost so we have a second frame moving with relative velocity $\beta'$ with respect to the moving
frame.  Our transformation is

\begin{align*}
L' =
\begin{bmatrix}
\gamma' & - \gamma' \beta' \\
- \gamma' \beta' & \gamma' \\
\end{bmatrix}
\end{align*}

this second transformation takes the original proper velocity to
\begin{align*}
u'' &=
\gamma \gamma'
\begin{bmatrix}
1 & - \beta' \\
- \beta' & 1 \\
\end{bmatrix}
\begin{bmatrix}
- \beta \\
1 \\
\end{bmatrix}
c \\
\end{align*}

This is
\begin{align}\label{eqn:pauli_four_vector_v:boost2}
u'' &=
\gamma \gamma'
\begin{bmatrix}
-(\beta + \beta') \\
1 + \beta\beta'
\end{bmatrix}
c
\end{align}

Let's verify that we still have our invariant norm.

\begin{align*}
u'' \cdot u'' 
&=
\gamma^2 {\gamma'}^2
\left(
(\beta + \beta')^2 
-(1 + \beta\beta')^2
\right)
c^2 \\
&=
\gamma^2 {\gamma'}^2
\left(
\beta^2
+{\beta'}^2
+2 \beta\beta'
-1
-2 \beta\beta'
-\beta^2 {\beta'}^2
\right)
c^2 \\
&=
\gamma^2 {\gamma'}^2
\left(
\beta^2 (1 - {\beta'}^2)
-(1 -{\beta'}^2)
\right)
c^2 \\
&=
-\gamma^2 {\gamma'}^2 (1 -{\beta'}^2)(1 -\beta^2) c^2 \\
&=
- c^2 \\
\end{align*}

Now, we have ${u''}^4 = c dt''/d\tau''$ as before, so from equation
\ref{eqn:pauli_four_vector_v:boost2} the new compound $\gamma$ factor can be picked off

\begin{align*}
\frac{dt''}{d\tau''} &=
\gamma \gamma'( 1 + \beta\beta' )
\end{align*}

Using this and chain rule again we have the spatial velocity in the second moving frame for the particle at rest in the original frame.  This is

\begin{align*}
u_x'' 
&=
\frac{\frac{dx''}{dt''}}{ \frac{dt''}{d\tau''} } \\
&=
\frac{-\gamma \gamma' (\beta + \beta') c}{ \gamma \gamma'( 1 + \beta\beta' ) } \\
&=
\frac{-(\beta + \beta') c}{ 1 + \beta\beta' } \\
&=
\frac{-(v + v') }{ 1 + v v'/c^2 } \\
\end{align*}

Okay, good.  From consideration of proper velocities and their transformations we have something that is of
the form of Pauli's equation 10 (here equation \ref{eqn:pauli_four_vector_v:eqn10}), which is the standard form for colinear 
relativistic velocity addition.

There is a difference though, namely that Pauli's equation 10 expresses the reverse transformation.  Shuffling
equation \ref{eqn:pauli_four_vector_v:eqn10} to solve for $u_x'$, we have

\begin{align*}
u_x ( 1 + v {u_x}') &= { {u_x}' + v  } \\
\end{align*}

which gives

\begin{align*}
u_x' &= \frac{ {u_x} + (-v)  }{ 1 + (-v) {u_x}} \\
\end{align*}

An algebraic inversion of the equation has exactly the same form, but with the velocity negated in sign.

Now with $u_x = -v'$ we have an identification between this twice boosted frame observing the particle at
rest in the original frame.

\subsection{Perpendicular directions. }

Now, the only thing left to understand is the spatial representation of the boosted velocity 
for the perpendicular to the boost direction components.

To do so, let's treat a more general case for the proper velocity of a particle as seen in some observers ``rest frame''.  Given the particle worldline

\begin{align*}
X = (x^\mu)
\end{align*}

The proper velocity is

\begin{align*}
\frac{dX}{d\tau} = \left(\frac{x^k}{dt}, c \right) \frac{dt}{d\tau}
\end{align*}

Writing

\begin{align*}
u_x &= \frac{x^1}{dt} \\
u_y &= \frac{x^2}{dt} \\
u_z &= \frac{x^3}{dt} \\
\gamma_0 &= \frac{dt}{d\tau}
\end{align*}

Application of a boost produces

\begin{align*}
u'
&=
\begin{bmatrix}
\gamma & 0 & 0 & - \gamma \beta \\
0 & 1 & 0 & 0 \\
0 & 0 & 1 & 0 \\
- \gamma \beta & 0 & 0 & \gamma \\
\end{bmatrix}
\begin{bmatrix}
u_x \\
u_y \\
u_z \\
c
\end{bmatrix}
\gamma_0 \\
&=
\begin{bmatrix}
\gamma_0 \gamma (u_x - \beta c) \\
\gamma_0 u_y \\
\gamma_0 u_z \\
\gamma_0 \gamma ( -\beta u_x + c ) \\
\end{bmatrix} \\
\end{align*}

In particular we have

\begin{align*}
\frac{dx'}{d\tau'} &= \gamma_0 \gamma ( 1 -\beta u_x/c ) \\
\end{align*}

So can write

\begin{align*}
u_x' &=
\frac{\gamma_0 \gamma (u_x - \beta c) }
{\gamma_0 \gamma ( 1 -\beta u_x/c )} \\
u_y' &=
\frac{\gamma_0 u_y }
{\gamma_0 \gamma ( 1 -\beta u_x/c )} \\
u_z' &=
\frac{\gamma_0 u_z }
{\gamma_0 \gamma ( 1 -\beta u_x/c )} \\
\end{align*}

Reversing signs in $\beta$ to invert and canceling common factors this is

\begin{align*}
u_x &=
\frac{u_x' + v }
{ 1 + v u_x'/c^2 } \\
u_y &=
\frac{u_y' }
{\gamma ( 1 + v u_x'/c^2 )} \\
u_z &=
\frac{u_z' }
{\gamma ( 1 + v u_x'/c^2 )} \\
\end{align*}

A final substitution of $\gamma^{-1} = \sqrt{1 - v^2/c^2}$ and we have
equation \ref{eqn:pauli_four_vector_v:eqn10} as desired.  Pauli says this step is easy, and that's
true enough once the simpler cases are first understood.

%\bibliographystyle{plainnat}
%\bibliography{myrefs}

%\end{document}
