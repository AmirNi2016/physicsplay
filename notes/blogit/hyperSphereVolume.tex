%
% Copyright © 2013 Peeter Joot.  All Rights Reserved.
% Licenced as described in the file LICENSE under the root directory of this GIT repository.
%
% pick one:
%\input{../assignment.tex}
\input{../blogpost.tex}
\renewcommand{\basename}{hyperSphereVolume}
\renewcommand{\dirname}{notes/phy452/}
%\newcommand{\dateintitle}{}
\newcommand{\keywords}{hypersphere, volume, Jacobian, Euclidean space, Minkowski space, Geometric Algebra, Gamma function}

\input{../peeter_prologue_print2.tex}

\beginArtNoToc

\generatetitle{Hypersphere volume calculation the easy way}
%\chapter{hypersphere volume calculation the easy way}
%\label{chap:hyperSphereVolume}
\section{Motivation}

In problem set three I solved the hypersphere volume problem the hard way.  I did it the way that I thought was obvious, starting with the spherical coordinate hypervolume element for an Euclidean space.  That build on the volume element calculation I'd previously done for four dimensional Euclidean and Hyperbolic spaces in \citep{gabook:nvolume}.  This time I avoided any use of Geometric Algebra and wrote out the volume element directly using a Jacobian transformation instead of a wedge product (that leads to the same Jacobian).  I then proceeded to integrate the volume element, come up with a recurrence relation for the volume, solve that for even and odd powers, and find a common expression using Gamma functions that was correct for even and odd powers.  It was a labourious process, but satisfying since I'd previously tried this calculation and not succeeded.

As and after I did this calculation, which I'll post later, I figured there had to have been an easier way.  In the midterm prep reading of \S 5.5 of \citep{ma1985statistical} I found just that method.  It's done there in about six lines, using a trick that seemed really sneaky!  I was left with a frustrated feeling, wondering how on earth somebody figured out to do it that way.

After a bit of reflection, I see that the trick is a very sensible approach.  I'll outline that here for 2 and 3 dimensions to show the technique, and the reader can generalize if desired.

\section{The trick}

Switching to spherical or circular coordinates when there is radial symmetry isn't anything that we could describe as trickery.  For example, with $r^2 = x^2 + y^2$ in a two dimensional problem or $r^2 = x^2 + y^2 + z^2$ in a three dimensional problem, it's clear that we'd do the following respectively if we were evaluating an integral

\begin{subequations}
\label{eqn:hyperSphereVolume:10}
\begin{equation}\label{eqn:hyperSphereVolume:20}
\iint f(r) dx dy = \iint f(r) r dr d\theta = 2 \pi \int f(r) r dr
\end{equation}
\begin{equation}\label{eqn:hyperSphereVolume:40}
\iiint f(r) dx dy = \iiint f(r) r^2 dr \sin d\theta d\theta d\phi = 4 \pi \int f(r) r^2 dr
\end{equation}
\end{subequations}

In fact, for $f(r) = 1$ these give us the area and volume of the circle and sphere respectively.

So, what's the trick?  The first part is the observation that the ``area'' of a ``volume'' for the circle and the sphere are found by the derivatives of the ``volumes''

\begin{subequations}
\begin{equation}\label{eqn:hyperSphereVolume:60}
\frac{d}{dr} \pi r^2 = 2 \pi r
\end{equation}
\begin{equation}\label{eqn:hyperSphereVolume:80}
\frac{d}{dr} \frac{4 \pi}{3} r^3 = 4 \pi r^2.
\end{equation}
\end{subequations}

I recall being suprised that this is the case back in high school calculus.  When I lost marks for not having the formula for the surface area of a sphere memorized on some test, my calculus teacher told me this title tidbit.

Back then this wasn't obvious to me, and I complained that it was true only for the perfect symmetry of a sphere.  For example, the derivative of an volume of a cube doens't give the surface area of a cube $d x^3/dx = 3 x^2 \ne 6 x^2$.

Once we believe or assume that the surface ``area'' of a hypervolume is the derivative of the volume, we can proceed with the trick.  That trick is to express the volume in terms of an unknown constant.  For example, for the circle and sphere the generalized ``volume''s are respectively

\begin{subequations}
\begin{equation}\label{eqn:hyperSphereVolume:n}
V_2 = B r^2
\end{equation}
\begin{equation}\label{eqn:hyperSphereVolume:n}
V_3 = C r^3
\end{equation}
\end{subequations}

The perimeter of the circle and surface area of the sphere are then

\begin{subequations}
\begin{equation}\label{eqn:hyperSphereVolume:n}
A_2 = 2 B r
\end{equation}
\begin{equation}\label{eqn:hyperSphereVolume:n}
A_3 = 3 C r^2
\end{equation}
\end{subequations}

So, if we want to calculate integrals of the form \ref{eqn:hyperSphereVolume:10} we can write

\begin{subequations}
\begin{equation}\label{eqn:hyperSphereVolume:20}
\iint f(r) dx dy = 2 B \iint f(r) r dr
\end{equation}
\begin{equation}\label{eqn:hyperSphereVolume:40}
\iiint f(r) dx dy = 3 C \int f(r) r^2 dr.
\end{equation}
\end{subequations}

The essence of the trick is to do such an integral in both Cartesian coordinates to get the left hand sides, and then do the radial right hand side integrals.  Comparing these provides the constants $B$ and $C$ and thus completes the ``volume'' formulas for the circle and sphere.

The function chosen for this integral in the text was a Gaussian exponential, something that is strictly radial, and can be integrated over all space.  Let's do this first in the 2D case

% this is to produce the sites.google url and version info and so forth (for blog posts)
%\vcsinfo
\EndArticle
