\newcommand{\authorname}{Peeter Joot}
\newcommand{\onlineurl}{http://sites.google.com/site/peeterjoot2/math2012/\basename.pdf}
\newcommand{\sourcepath}{\dirname\basename.tex}
\newcommand{\generatetitle}[1]{\chapter{#1}}

\newcommand{\vcsinfo}{%
\section*{}
\noindent{\color{DarkOliveGreen}{\rule{\linewidth}{0.1mm}}}
\paragraph{\color{Maroon}{Document version}}
{
\small
\begin{itemize}
\item Available online at:\\ 
\href{\onlineurl}{\onlineurl}
\item Git Repository: \input{./.revinfo/gitRepo.tex}
\item Source: \sourcepath
\item last commit: \input{./.revinfo/gitCommitString.tex}
\item commit date: \input{./.revinfo/gitCommitDate.tex}
\end{itemize}
}
}

\documentclass{scrreprt}

\usepackage[left=2cm,right=2cm]{geometry}
\usepackage[svgnames]{xcolor}
\usepackage{graphicx}
\usepackage{mycommon}

\PassOptionsToPackage{square,numbers}{natbib}
\usepackage{natbib}

\usepackage[
colorlinks=true,
bookmarks=false,
pdfauthor={\authorname, \email},
backref 
]{hyperref}

\RequirePackage{titlesec}
\RequirePackage{ifthen}

\titleformat{\chapter}[display]
{\bfseries\Large}
{\color{DarkSlateGrey}\filleft \authorname
\ifthenelse{\isundefined{\studentnumber}}{}{\\ \studentnumber}
\ifthenelse{\isundefined{\email}}{}{\\ \email}
%\ifthenelse{\isundefined{\coursename}}{}{\\ \coursename} % put in title instead.
}
{4ex}
{\color{DarkOliveGreen}{\titlerule}\color{Maroon}
\vspace{2ex}%
\filright}
[\vspace{2ex}%
\color{DarkOliveGreen}\titlerule
]

\newcommand{\beginArtWithToc}[0]{\begin{document}\tableofcontents}
\newcommand{\beginArtNoToc}[0]{\begin{document}}
\newcommand{\EndNoBibArticle}[0]{\end{document}}
\newcommand{\EndArticle}[0]{\bibliography{Bibliography}\bibliographystyle{plainnat}\end{document}}

\colorSectionsForArticle

