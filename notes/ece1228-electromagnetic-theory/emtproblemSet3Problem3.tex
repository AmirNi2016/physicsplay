%
% Copyright © 2016 Peeter Joot.  All Rights Reserved.
% Licenced as described in the file LICENSE under the root directory of this GIT repository.
%
\makeproblem{Electric field across dielectric boundary.}{emt:problemSet3:3}{ 
The plane \( 3x + 2y + z = 12 \) [\si{m}] describes the interface between a dielectric and free space.
The origin side of the interface has \( \epsilon_{r 1} = 3 \) and \( \BE_1 = 2 \xcap + 5 \zcap \) [\si{V/m}]. What is \(\BE_2\)
(the field on the other side of the interface)?
} % makeproblem

\makeanswer{emt:problemSet3:3}{ 
}

The geometry of the problem is sketched roughly in \cref{fig:ps3Problem3Plane:ps3Problem3PlaneFig1}.

\imageFigure{../../figures/ece1228-emt/ps3Problem3PlaneFig1}{Interfaces on sides of a plane.}{fig:ps3Problem3Plane:ps3Problem3PlaneFig1}{0.3}

Assuming that there are no sources, the relationships between the fields on each side of the interface are

\begin{dmath}\label{eqn:emtProblemSet3Problem3:20}
\begin{aligned}
%\ncap \cdot \lr{ \epsilon_0 \epsilon_{r2} \BE_2 - \epsilon_0 \epsilon_{r1} \BE_1 } &= 0
\ncap \cdot \lr{ \BD_2 - \BD_1 } &= 0 \\
\ncap \cross \lr{ \BE_2 - \BE_1 } &= 0
\end{aligned}
\end{dmath}

%Since \( \epsilon_{r2} = 1 \), 
After cancelling common factors of \( \epsilon_0 \) the first relationship can be written

\begin{dmath}\label{eqn:emtProblemSet3Problem3:40}
\ncap \cdot \BE_2 = \frac{\epsilon_{r1}}{\epsilon_{r2}} \ncap \cdot \BE_1.
\end{dmath}

Adding the normal and the tangential components of \( \BE_2 \), we have

\begin{dmath}\label{eqn:emtProblemSet3Problem3:60}
\BE_2 
= 
\ncap \lr{ \ncap \cdot \BE_2 } - 
\ncap \cross \lr{ \ncap \cross \BE_2 }
= 
\frac{\epsilon_{r1}}{\epsilon_{r2}} \ncap \lr{ \ncap \cdot \BE_1 } 
- \ncap \cross \lr{ \ncap \cross \BE_1 }.
\end{dmath}

By expanding the tangential projection (normal rejection) of a vector as

\begin{dmath}\label{eqn:emtProblemSet3Problem3:160}
\BA_t 
= 
- \ncap \cross \lr{ \ncap \cross \BA }
=
\BA - \ncap (\ncap \cdot \BA),
\end{dmath}

we find
\begin{dmath}\label{eqn:emtProblemSet3Problem3:180}
\BE_2 
= 
\frac{\epsilon_{r1}}{\epsilon_{r2}} \ncap \lr{ \ncap \cdot \BE_1 } 
+ \lr{ \BE_1 - \ncap (\ncap \cdot \BE_1) }
= 
\BE_1 + \lr{\frac{\epsilon_{r1}}{\epsilon_{r2}} -1} \ncap \lr{ \ncap \cdot \BE_1 },
\end{dmath}

or
\boxedEquation{eqn:emtProblemSet3Problem3:320}{
\BE_2
= 
\BE_1 + \frac{\frac{\epsilon_{r1}}{\epsilon_{r2}} -1}{\Abs{\Bn}^2} \Bn \lr{ \Bn \cdot \BE_1 }.
}

The rest of the problem is routine algebra.

\begin{subequations}
\label{eqn:emtProblemSet3Problem3:220}
\begin{dmath}\label{eqn:emtProblemSet3Problem3:240}
\Bn^2 = (3,2,1) \cdot (3,2,1) = 9 + 4 + 1 = 14,
\end{dmath}
\begin{dmath}\label{eqn:emtProblemSet3Problem3:260}
\Bn \cdot \BE_1
=
(3,2,1) \cdot (2,0,5)
=
6+5
=11,
\end{dmath}
\end{subequations}

so
\begin{dmath}\label{eqn:emtProblemSet3Problem3:280}
\BE_2
=
(2,0,5) + \frac{2 \times 11}{14} (3,2,1)
=
\inv{7}( (14,0,35) + (33,22,11) ),
\end{dmath}

which is

\boxedEquation{eqn:emtProblemSet3Problem3:300}{
\BE_2
=
\frac{47}{7} \xcap + \frac{22}{7} \ycap + \frac{46}{7} \zcap
\qquad[\si{V/m}].
}

\paragraph{Appendix I.  Normal and tangential decomposition.}

The decomposition of \cref{eqn:emtProblemSet3Problem3:60} can be derived easily using Geometric Algebra

\begin{dmath}\label{eqn:emtProblemSet3Problem3:80}
\BA 
= 
\ncap^2 \BA
=
\ncap (\ncap \cdot \BA)
+\ncap (\ncap \wedge \BA)
%=
%\ncap (\ncap \cdot \BA)
%+
%\ncap \cdot (\ncap \wedge \BA)
\end{dmath}

The last dot product can be expanded as a grade one (vector) selection

\begin{dmath}\label{eqn:emtProblemSet3Problem3:100}
\ncap (\ncap \wedge \BA)
=
\gpgradeone{
\ncap (\ncap \wedge \BA)
}
=
\gpgradeone{
\ncap I (\ncap \cross \BA)
}
=
I^2 \ncap \cross (\ncap \cross \BA)
=
- \ncap \cross (\ncap \cross \BA),
\end{dmath}

so the decomposition of a vector \( \BA \) in terms of its normal and tangential projections is
\begin{dmath}\label{eqn:emtProblemSet3Problem3:120}
\BA
=
\ncap (\ncap \cdot \BA)
-
\ncap \cross (\ncap \cross \BA).
\end{dmath}

I'm not sure how to derive this easily using traditional vector algebra, but it can be verified by expanding the triple cross product in coordinates using tensor contraction formalism

\begin{dmath}\label{eqn:emtProblemSet3Problem3:140}
-\ncap \cross (\ncap \cross \BA)
=
-\epsilon_{xyz} \Be_x n_y \lr{\ncap \cross \BA}_z
=
-\epsilon_{xyz} \Be_x n_y \epsilon_{zrs} n_r A_s
=
-\delta_{xy}^{[rs]}
\Be_x n_y n_r A_s
=
-\Be_x n_y \lr{ n_x A_y -n_y A_x }
= -\ncap (\ncap \cdot \BA) + (\ncap \cdot \ncap) \BA
= \BA - \ncap (\ncap \cdot \BA).
\end{dmath}

This last statement illustrates the geometry of this decomposition, showing that the tangential projection (or normal rejection) of a vector is really just the vector minus its normal projection.

%This can be rearranged to show that the 
%\begin{dmath}\label{eqn:emtProblemSet3Problem3:100}

%The tangential projection, can also be expanded in dot products
%
%\begin{dmath}\label{eqn:emtProblemSet3Problem3:200}
%\ncap (\ncap \wedge \BA)
%=
%\ncap \cdot (\ncap \wedge \BA)
%=
%\BA - \ncap (\ncap \cdot \BA)
%\end{dmath}
