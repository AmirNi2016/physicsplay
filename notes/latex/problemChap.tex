%
% Copyright © 2012 Peeter Joot.  All Rights Reserved.
% Licenced as described in the file LICENSE under the root directory of this GIT repository.
%
\documentclass[]{scrreprt}
\usepackage[answerdelayed]{exercise}
\usepackage[svgnames]{xcolor}

\newcounter{Example}

\newcommand{\makeexample}[3]{%
\begin{Exercise}[%
title={#1},%
label={#2},%
name={Example},%
counter={Example}%
]%
#3%
\end{Exercise}%
}

\begin{document}

\chapter{Ch1}

   \begin{Exercise}[title={compute foo},label={ch1:problem:foo}]
   Given $b=a$, compute $foo(b)$.
   \end{Exercise}

   \makeexample{blah}{ch1:ex1}{
   Given $b=e$, compute $foo(b)$...
   }

   \begin{Exercise}[title={compute bar},label={ch1:problem:bar}]
   Given $b=a$, compute $bar(b)$.
   \end{Exercise}

   \shipoutAnswer

\chapter{Ch2}

   \renewcounter{Exercise}
   \begin{Exercise}[title={compute foo},label={ch2:problem:foo}]
   Given $b=c$, compute $foo(b)$.
   \end{Exercise}

   \begin{Exercise}[title={compute bar},label={ch2:problem:bar}]
   Given $b=d$, compute $bar(b)$.
   \end{Exercise}

   \shipoutAnswer

\end{document}
