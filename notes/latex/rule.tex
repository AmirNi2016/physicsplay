%
% Copyright © 2012 Peeter Joot.  All Rights Reserved.
% Licenced as described in the file LICENSE under the root directory of this GIT repository.
%
\documentclass{scrreprt}
\usepackage{graphicx}
\usepackage[svgnames]{xcolor}

\newcommand{\imageFigure}[4]{%
  \ifinner%
    % non float version
    \begin{center}%
       \captionsetup{type=figure}%
       \includegraphics[totalheight=#4\textheight]{#1}%
       \caption{#2}%
       \label{#3}%
    \end{center}%
  \else%
    % float version
    \begin{figure}[htp]%
       \centering%
       \includegraphics[totalheight=#4\textheight]{#1}%
       \caption{#2}%
       \label{#3}%
    \end{figure}%
  \fi%
}

\begin{document}
%text
%\color{Maroon}{\rule{\linewidth}{0.5mm}}
%%{\color{Maroon}\hrulefill}
%text

%\imageFigure{f1}{caption}{label}{0.3}
\imageFigure{f_1}{caption}{label}{0.3}

\end{document}
