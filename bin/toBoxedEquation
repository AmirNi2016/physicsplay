#!/usr/bin/perl

my $all = '' ;

while (<>)
{
   $all .= $_ ;
}

$all =~ s/^\\begin{equation}\s*
\\label{(eqn:.*?)}\s*
\\myBoxed{\s*
(.*?)\s*
}\s*
\\end{equation}/\\boxedEquation{$1}{
$2
}/msxg ;

print $all ;
