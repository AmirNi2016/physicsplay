#!/usr/bin/perl

use strict ;
use warnings ;
use Getopt::Long ;

my $newscreen = 0 ;

GetOptions
(
   'new!'       => \$newscreen,
#   'help!'      => \$showUsage,
) ;

my $hostname = `hostname` ;
chomp $hostname ;

if ( -e "$ENV{HOME}/.screenhost" && $hostname =~ /^scinet/ )
{
   my $alias = `cat $ENV{HOME}/.screenhost` ; chomp $alias ;

   system( "ssh -t $alias 'module load extras ; screen -dr'" ) ;
}
elsif ( $newscreen )
{
   system("cd ; echo $hostname > .screenhost ; module load extras ; screen -q" ) ;
}
else
{
   system( "gpc -t 'sscreen -new'" ) ;
}
